# Модель випадків використання

## 1. Загальна діаграма  
**На рисунку 1 наведено інтегровану діаграму випадків використання, що відображає базові функції системи та взаємодію між її учасниками.**  

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml

    actor "Гість" as Guest
    actor "Користувач" as User
    actor "Технічний експерт" as Expert
    
    usecase "<b>Log in</b>\nЗареєструвати обліковий запис" as UC_1
    usecase "<b>Sign in</b>\nУвійти в обліковий запис" as UC_2
    usecase "<b>Media content management</b>\nПошук та управління медіа-контентом" as UC_3
    usecase "<b>Delete account</b>\nВидалити обліковий запис" as UC_4
    usecase "<b>Promote user role</b>\nПідвищити роль користувача" as UC_5
    
    Guest -u-> UC_1
    Guest -u-> UC_2
    
    User -u-|> Guest
    User -d-> UC_3

    Expert -u-|> Guest
    Expert -d-> UC_4
    Expert -d-> UC_5

@enduml

*Рисунок 1. Загальна діаграма випадків використання*

</center>

У системі визначено три основні типи учасників:  

- **Гість** — неавторизований відвідувач, який може створити обліковий запис або ввійти в уже наявний.  
- **Користувач** — зареєстрований та автентифікований учасник із правами керування медіаконтентом.  
- **Технічний експерт** — фахівець із розширеними правами, який може підвищувати ролі та видаляти облікові записи.

---

## 2. Можливості гостя  
**На рисунку 2 показано повний набір дій, доступних незареєстрованому користувачу.** 

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml

    actor "Гість" as Guest
    
    usecase "<b>Log in</b>\nЗареєструвати обліковий запис" as UC_1
    usecase "<b>Sign in</b>\nУвійти в обліковий запис" as UC_2
    
    Guest -d-> UC_1
    Guest -d-> UC_2

@enduml

*Рисунок 2. Варіанти використання для гостя*

</center>

---

## 3. Можливості користувача  
**Рисунок 3 ілюструє можливості авторизованого користувача.**  

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml

    actor "Користувач" as User
    
    usecase "<b>Media content management</b>\nПошук та управління медіа-контентом" as UC_1
    usecase "Пошук медіа-контенту" as UC_1_1 #lightyellow
    usecase "Створення нового медіа-контенту в системі" as UC_1_2 #lightyellow
    usecase "Видалення наявного медіа-контенту із системи" as UC_1_3 #lightyellow
    usecase "Редагування поточної інформації про медіа-контент у системі" as UC_1_4 #lightyellow
    usecase "Додавання відгуку на медіа-контент у системі" as UC_1_5 #lightyellow
    
    User -d-> UC_1
    UC_1_1 -l-> UC_1: extends
    UC_1_2 -u-> UC_1: extends
    UC_1_3 -u-> UC_1: extends
    UC_1_4 -u-> UC_1: extends
    UC_1_5 -r-> UC_1: extends


@enduml

*Рисунок 3. Варіанти використання для користувача*

</center>

---

## 4. Можливості технічного експерта  
**На рисунку 4 подано варіанти дій, доступних технічному експерту.**  

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml

    actor "Технічний експерт" as Expert
    
    usecase "<b>Delete account</b>\nВидалити обліковий запис" as UC_1
    usecase "<b>Promote user role</b>\nПідвищити роль користувача" as UC_2
    
    Expert -d-> UC_1
    Expert -d-> UC_2

@enduml

*Рисунок 4. Варіанти використання для технічного експерта*

</center>

---

## 5. Сценарії для незареєстрованого користувача
### 5.1 Реєстрація

| Параметр | Опис |
|---|---|
| **ID** | `UserReg` |
| **Назва** | Створення нового облікового запису |
| **Учасники** | Користувач, Система |
| **Передумови** | Відвідувач не має облікового запису |
| **Результат** | Новий обліковий запис створено |
| **Виключні ситуації** | 1. AlreadyRegisteredException  2. DataMissingException  3. InvalidDataException |

**Основний перебіг:**  
1. Відвідувач відкриває форму реєстрації.  
2. Уводить особисті дані (ім’я, прізвище, e-mail, пароль).  
3. Система перевіряє, чи не існує користувача з такими даними.  
4. За відсутності дублювання створює новий профіль.  
5. Система повідомляє про успішну реєстрацію.

<center>

@startuml

|Гість|
start
: Користувач натискає кнопку "Реєстрація";
: Користувач передає реєстраційні дані
    (username, email, компанія, пароль);

note left #red
<b>Можлива виключна ситуація</b>
<b>"InvalidDataException"</b>
end note

: Користувач натискає кнопку "Підтвердити реєстрацію";

|Система|
: Система отримує запит на реєстрацію;
: Система перевіряє отримані реєстраційні дані;
note right #ff0000
<b>Можлива виключна ситуація</b>
<b>"DataMissingException"</b>
end note
: Система перевіряє наявність облікового запису;
note right #ff0000
<b>Можлива виключна ситуація</b>
<b>"AlreadyRegisteredException"</b>
end note
: Система створює обліковий запис з даними користувача;
: Система повідомляє про успішне створення нового облікового запису;

|Гість|
stop

@enduml

*Рисунок 5.1. Сценарій реєстрації*

</center>

---

### 5.2 Авторизація

| Параметр | Опис |
|---|---|
| **ID** | `UserAuth` |
| **Назва** | Вхід до існуючого облікового запису |
| **Учасники** | Користувач, Система |
| **Передумови** | Користувач зареєстрований |
| **Результат** | Користувач потрапляє до особистого кабінету |
| **Виключні ситуації** | 1. DataNotFoundException  2. NotRegisteredException  3. TooManyActionsException |

**Основний перебіг:**  
1. Користувач відкриває сторінку входу.  
2. Уводить e-mail (або логін) та пароль.  
3. Система перевіряє коректність даних.  
4. Після успішної перевірки надає доступ до кабінету.  
5. Система сповіщає про успішний вхід.

<center>

@startuml

|Гість|
start
: Користувач натискає кнопку "Вхід";
: Користувач вводить авторизаційні дані
        (email або username, пароль);

note left #red
<b>Можлива виключна ситуація</b>
<b>"TooManyActionsException"</b>
end note

: Користувач натискає кнопку "Увійти";

|Система|
: Система отримує запит на авторизацію;
: Система перевіряє отримані авторизаційні дані;
note right #ff0000
<b>Можлива виключна ситуація</b>
<b>"DataNotFoundException"</b>
end note
: Система перевіряє наявність облікового запису;
note right #ff0000
<b>Можлива виключна ситуація</b>
<b>"NotRegisteredException"</b>
end note
: Система надає доступ до сторінки кабінету;
: Система повідомляє про успішний вхід в особистий кабінет;

|Гість|
stop

@enduml

*Рисунок 5.2. Сценарій авторизації*

</center>

---

---

## 6. Сценарії для технічного експерта

### 6.1 Видалення користувача
| Параметр | Опис |
|---|---|
| **ID** | `UserDelete` |
| **Назва** | Деактивація облікового запису |
| **Учасники** | Технічний експерт, Користувач, Система |
| **Передумови** | Обліковий запис активний; експерт має відповідні права |
| **Результат** | Обліковий запис видалено |
| **Виключні ситуації** | 1. PermissionDeniedException  2. NotRegisteredException |

**Основний перебіг:**  
1. Експерт обирає користувача зі списку.  
2. Ініціює команду видалення.  
3. Система перевіряє права та наявність запису.  
4. Після перевірки видаляє обліковий запис.  
5. Система підтверджує успішне видалення.
<center>

@startuml

|Технічний експерт|
start
: Технічний експерт обирає користувача для видалення зі списку;
: Технічний експерт натискає кнопку кнопку "Видалити";

|Система|
: Система отримує запит на видалення користувача;
: Система перевіряє права для видалення облікового запису;
note right #ff0000
<b>Можлива виключна ситуація</b>
<b>"PermissionDeniedException"</b>
end note
: Система перевіряє наявність облікового запису;
note right #ff0000
<b>Можлива виключна ситуація</b>
<b>"NotRegisteredException"</b>
end note
: Система видаляє обліковий запис та забороняє доступ користувача;
: Система повідомляє про успішне видалення користувача;

|Технічний експерт|
stop

@enduml

*Рисунок 6.1. Сценарій видалення користувача*

</center>

---

---

### 6.2 Підвищення ролі
| Параметр | Опис |
|---|---|
| **ID** | `UserRolePromote` |
| **Назва** | Призначення вищої ролі користувачу |
| **Учасники** | Технічний експерт, Користувач, Система |
| **Передумови** | Експерт має права змінювати ролі; користувач активний |
| **Результат** | Роль користувача оновлено |
| **Виключні ситуації** | 1. RoleNotEnoughRightsException  2. RoleAlreadyHighestException  3. NotRegisteredException |

**Основний перебіг:**  
1. Експерт вибирає цільового користувача.  
2. Обирає потрібну роль.  
3. Система перевіряє права та існування облікового запису.  
4. Оновлює роль і зберігає зміни.  
5. Система сповіщає про успішне підвищення.

<center>

@startuml

|Технічний експерт|
start
: Технічний експерт обирає користувача для півищення ролі;
: Технічний експерт обирає роль для обраного користувача;
: Технічний експерт натискає кнопку кнопку "Змінити роль";

|Система|
: Система отримує запит на зміну ролі користувача;
: Система перевіряє права технічного експерта;
note right #ff0000
<b>Можлива виключна ситуація</b>
<b>"RoleNotEnoughRightsException"</b>
end note
: Система перевіряє наявність облікового запису користувача;
note right #ff0000
<b>Можлива виключна ситуація</b>
<b>"NotRegisteredException"</b>
end note
: Система змінює роль користувача на вказану;
note right #ff0000
<b>Можлива виключна ситуація</b>
<b>"RoleAlreadyHighestException"</b>
end note
: Система повідомляє про успішне підвищення ролі користувача;

|Технічний експерт|
stop

@enduml

*Рисунок 6.2. Сценарій підвищення ролі*

</center>

---

## 7. Сценарії для зареєстрованого користувача

### 7.1 Пошук медіаконтенту
| Параметр | Опис |
|---|---|
| **ID** | `MediaFind` |
| **Назва** | Пошук та перегляд медіаконтенту |
| **Учасники** | Користувач, Система |
| **Передумови** | Користувач авторизований |
| **Результат** | Відображено релевантні результати |
| **Виключні ситуації** | 1. InformationNotFoundException  2. InvalidSearchRequestException |

**Основний перебіг:**  
1. Користувач налаштовує фільтри та вводить запит.  
2. Система шукає збіги у базі даних.  
3. Аналізує результати.  
4. Формує та виводить список знайденого контенту.  

<center>

@startuml

|Користувач|
start
:Користувач налаштовує фільтри (тип, назва, дата створення) 
        та надсилає запит на пошук медіа-контенту;
note left #ff0000
<b>Можлива виключна ситуація</b>
<b>"InvalidSearchRequestException"</b>
end note

|Система|
:Система здійснює пошук у базах даних відповідно до налашто-
             ваних фільтрів і введеного користувачем запиту;
note right #ff0000
<b>Можлива виключна ситуація</b>
<b>"InformationNotFoundException"</b>
end note
:Система аналізує знайдений медіа-контент;
:Система формує результати, враховуючи проведений аналіз;
:Система виводить знайдений медіа-контент користувачеві;

|Користувач|
stop

@enduml

*Рисунок 7.1. Сценарій пошуку контенту*

</center>

---

---

### 7.2 Створення медіаконтенту
| Параметр | Опис |
|---|---|
| **ID** | `MediaCreate` |
| **Назва** | Додавання нового медіафайлу |
| **Учасники** | Користувач, Система |
| **Передумови** | Користувач має права створення |
| **Результат** | Контент успішно збережено |
| **Виключні ситуації** | 1. PermissionDeniedException  2. ContentIdExistsException |                                                                                                                                                                                                                         
**Основний перебіг:**  
1. Користувач обирає «Створити контент».  
2. Система відкриває форму введення.  
3. Користувач додає назву, опис, ключові слова та файли.  
4. Система перевіряє валідність та унікальність ID.  
5. Зберігає інформацію у БД та підтверджує успіх.

<center>

@startuml

|Користувач|
start
:Користувач обирає опцію для створення нового 
                        медіа-контенту;
note left #ff0000
<b>Можлива виключна ситуація</b>
<b>"PermissionDeniedException"</b>
end note

|Система|
:Система надає користувачу інтерфейс для створення контенту; 

|Користувач|
:Користувач створює медіа-контент, додаючи необхідні дані і файли;
:Користувач додає назву, опис та ключові слова, що характеризують
                                            медіа-котент;
:Користувач проставляє параметри аналізу медіа-контенту;

|Система|
:Система зберігає новий медіа-контент у базі даних;
note right #ff0000
<b>Можлива виключна ситуація</b>
<b>"ContentIdExistsException"</b>
end note
:Система повідомляє користувача про успішне створення 
                                    контенту;

|Користувач|
stop

@enduml

*Рисунок 7.2. Сценарій створення контенту*

</center>

---

---

### 7.3 Редагування медіаконтенту
| Параметр | Опис |
|---|---|
| **ID** | `MediaEdit` |
| **Назва** | Зміна атрибутів контенту |
| **Учасники** | Користувач, Система |
| **Передумови** | Авторизований доступ і права редагування |
| **Результат** | Дані контенту оновлено |
| **Виключні ситуації** | 1. PermissionDeniedException  2. InvalidContentDataException |

**Основний перебіг:**  
1. Користувач вибирає об’єкт для редагування.  
2. Уносить зміни (назва, опис тощо).  
3. Система перевіряє права та коректність даних.  
4. Оновлює записи у базі.  
5. Підтверджує успішне редагування.

<center>

@startuml

|Користувач|
start
: Користувач обирає медіа-контент для редагування;
: Користувач редагує інформацію про медіа-контент
(назва, опис, ключові слова, параметри для аналізу);
: Користувач натискає кнопку "Редагувати";

|Система|
: Система отримує запит на редагування інформації про медіа-контент;
: Система перевіряє права для редагування медіа-контенту;
note right #ff0000
<b>Можлива виключна ситуація</b>
<b>"PermissionDeniedException"</b>
end note
: Система перевіряє наявність контенту;
note right #ff0000
<b>Можлива виключна ситуація</b>
<b>"InvalidContentDataException"</b>
end note
: Система оновлює інформацію в базі даних;
: Система підтверджує редагування та оновлює дані контенту;

|Користувач|
stop

@enduml

*Рисунок 7.3. Сценарій редагування контенту*

</center>

---

---

### 7.4 Додавання відгуку
| Параметр | Опис |
|---|---|
| **ID** | `MediaAddFeedback` |
| **Назва** | Додавання рецензії до контенту |
| **Учасники** | Користувач, Система |
| **Передумови** | Користувач авторизований |
| **Результат** | Відгук додано та прив’язано до контенту |
| **Виключні ситуації** | 1. InvalidContentIdException  2. InvalidCommentException |

**Основний перебіг:**  
1. Користувач обирає контент і вводить текст відгуку та рейтинг.  
2. Система перевіряє існування контенту та коректність тексту.  
3. Додає відгук до бази.  
4. Оновлює інформацію та підтверджує дію.

<center>

@startuml

|Користувач|
start
: Користувач обирає медіа-контент для додавання відгуку;
: Користувач вводить текст відгуку та оцінку від 1 до 5;
: Користувач натискає кнопку "Додати відгук";

|Система|
: Система перевіряє наявність відгуку;
note right #ff0000
<b>Можлива виключна ситуація</b>
<b>"InvalidContentIdException"</b>
end note
: Система перевіряє валідність тексту відгуку;
note right #ff0000
<b>Можлива виключна ситуація</b>
<b>"InvalidCommentException"</b>
end note
: Система додає новий відгук та оцінку до бази даних;
: Система оновлює інформацію в базі даних;
: Система підтверджує додавання відгуку та оновлює дані контенту;

|Користувач|
stop

@enduml

*Рисунок 7.4. Сценарій додавання відгуку*

</center>

---

---

### 7.5 Видалення медіаконтенту
| Параметр | Опис |
|---|---|
| **ID** | `MediaDelete` |
| **Назва** | Усунення існуючого контенту |
| **Учасники** | Користувач, Система |
| **Передумови** | Наявні права на видалення |
| **Результат** | Контент видалено з бази |
| **Виключні ситуації** | 1. PermissionDeniedException  2. InvalidContentIdException |

**Основний перебіг:**  
1. Користувач позначає контент для видалення.  
2. Система перевіряє права та наявність запису.  
3. Видаляє контент із бази.  
4. Оновлює список та повідомляє про успіх.

<center>

@startuml

|Користувач|
start
: Користувач обирає медіа-контент для видалення;

|Система|
: Система перевіряє наявність прав у користувача;
note right #ff0000
<b>Можлива виключна ситуація</b>
<b>"PermissionDeniedException"</b>
end note
: Система перевіряє наявність медіа-контенту;
note right #ff0000
<b>Можлива виключна ситуація</b>
<b>"InvalidContentldException"</b>
end note
: Система видаляє вказаний медіа-контент з бази даних;
: Система підтверджує видалення користувачу та оновлює список контенту;

|Користувач|
stop

@enduml

*Рисунок 7.5. Сценарій видалення контенту*

</center>